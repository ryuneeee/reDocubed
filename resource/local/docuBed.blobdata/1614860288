ş*
>0/__transactions/52647ecc0b082847e88c5188/tran.#0C	g!{"config":{"fieldIndexes":{},"ignoreBody":false},"time":1382317772598,"logs":[{"id":"52647ecc0b082847e98c5188","path":"/craken/4_node/5_blob_node/a_add_node_with_blob","touch":"MODIFY","val":{"properties":{"content":["#### ë¡œì»¬ì—ì„œ íŒŒì¼ì„ ì¼ì–´ì„œ Crakenì— ì €ì¥í•˜ê³ , ë‹¤ì‹œ Crakenì—ì„œ ë¶ˆëŸ¬ì˜¨ ë’¤ íŒŒì¼ë¡œ ì €ì¥í•˜ê¸°\r\n\r\nCrakenì—ì„œì˜ Blob ì €ì¥ì€ Propertyì— ì €ì¥í•˜ëŠ”ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ì €ì¥ëœ Blobì„ ê°€ì ¸ì˜¬ ê²½ìš° ì¶”ê°€ì ì¸ ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. ì•„ë˜ì˜ ì˜ˆì œëŠ” Root ë…¸ë“œì— Blobì„ ì €ì¥í•˜ê³ , ë‹¤ì‹œ ì½ì–´ì™€ì„œ ìƒˆë¡œìš´ íŒŒì¼ë¡œ ì“°ëŠ” ì‘ì—…ì„ í•©ë‹ˆë‹¤.\r\n\r\n```\r\nsession.tranSync(new TransactionJob<Object>() {\r\n    @Override\r\n    public Object handle(WriteSession wsession) throws Exception {\r\n    \t//FileInputStreamìœ¼ë¡œ ì½ì„ ë°ì´í„°ë¥¼ ì§€ì •\r\n        InputStream is = new FileInputStream(\"blob_read.jpg\");\r\n        //Nodeì— ì”€\r\n        WriteNode writeNode = wsession.root().blob(\"img\", is);\r\n        return null;\r\n    }\r\n});\r\n```\r\n\r\nCLASS_PATHì— ì¡´ì¬í•˜ëŠ” blog_read.jpg íŒŒì¼ì„ ì½ì–´ì™€ Root ë…¸ë“œì— ì €ì¥í•©ë‹ˆë‹¤. ì´ë•Œ, WriteNodeì˜ `blob(String string, InputStream input);` ë©”ì„œë“œë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ì²« Parameterë¡œ ë°›ëŠ” Stringê°’ì€ í›„ì— Blob Dataë¥¼ ì°¾ì„ ë•Œ í•„ìš”í•œ Propertyì˜ Keyê°’ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³ , ë‘ë²ˆì§¸ Parameterë¡œëŠ” ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” InputStreamê°ì²´ë¥¼ ë°›ìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ê¸°ì¡´ì˜ Propertyë¥¼ ì½ì„ ë•Œì™€ëŠ” ë‹¤ë¥´ê²Œ, BlobValue ê°ì²´ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•œ `.asBlob()` ë©”ì„œë“œì™€, ë°ì´í„°ë¥¼ ë°›ê¸°ìœ„í•œ `.toInputStream()`ë©”ì„œë“œë¥¼ ê°ê° í˜¸ì¶œí•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ FileOutputStreamì„ í†µí•´ì„œ  CLASS_PATHì— blob_write.jpgë¡œ ì €ì¥í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•´ì„œ Crakenì— Blob Dataì„ ì½ê³ , ì“°ëŠ” ë°©ë²•ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.\r\n"],"title":["a. Add node with blob"]},"references":{"__transaction":["/__transactions/52647ecc0b082847e88c5188"]}}},{"id":"52647ecc0b082847ea8c5188","path":"/craken","touch":"MODIFY","val":{"properties":{},"references":{}}},{"id":"52647ecc0b082847eb8c5188","path":"/craken/4_node","touch":"MODIFY","val":{"properties":{"content":[""],"title":["4. Node"]},"references":{}}},{"id":"52647ecc0b082847ec8c5188","path":"/craken/4_node/5_blob_node","touch":"MODIFY","val":{"properties":{"content":[""],"title":["5) Blob node"]},"references":{}}}]}