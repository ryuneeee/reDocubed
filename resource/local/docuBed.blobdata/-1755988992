ş*
>0/__transactions/5260f6bb792f28479c142183/tran.#0C{!{"config":{"fieldIndexes":{},"ignoreBody":false},"time":1382086331886,"logs":[{"id":"5260f6bb792f28479d142183","path":"/craken/1_introduce_craken/2_basic_model_of_craken/e_session/_writesession","touch":"MODIFY","val":{"properties":{"content":["### ReadSessionê³¼ WriteSessionì˜ ë¶„ë¦¬í•˜ê¸°\r\nWriteSession ë˜í•œ ReadSessionê³¼ ë§ˆì°¬ê°€ì§€ë¡œ Methodë“¤ì˜ ì´ë¦„ë“¤ì´ ë¹„ìŠ·í•˜ì§€ë§Œ, ë™ì‘í•˜ëŠ” ê¸°ëŠ¥ì€ ë‹¤ë¦…ë‹ˆë‹¤. ReadSessionì˜ pathBy(Fqn fqn)ì˜ ê²½ìš° return Objectë¡œ `ReadNode`ë¥¼ ë¦¬í„´ í•´ ì£¼ì§€ë§Œ, WriteSessionì€ `WriteNode`ë¥¼ ë¦¬í„´ í•´ ì¤„ ë¿ë§Œì•„ë‹ˆë¼, í•´ë‹¹ ë…¸ë“œê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ìƒˆë¡œ ë…¸ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ReadSessionê³¼ WriteSessionì„ í˜¼ë™í•˜ì§€ ë§ê³  ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\r\n\r\n### ë™ê¸° Transactionê³¼ ë¹„ë™ê¸° Transaction\r\nWriteSessionì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ReadSessionì„ í†µí•˜ì—¬ WriteSessionì„ ì–»ì–´ì™€ì•¼ í•©ë‹ˆë‹¤. ì´ ë•Œ, 3ê°€ì§€ì˜ ë©”ì„œë“œê°€ ì¡´ì¬ í•©ë‹ˆë‹¤.\r\n\r\n1. `tran(TransactionJob<T> tjob)` \r\n\t\r\n\të¹„ë™ê¸° íŠ¸ëœì ì…˜ ì…ë‹ˆë‹¤. ê²°ê³¼ê°’ì„ ê¸°ë‹¤ë¦´ í•„ìš”ê°€ ì—†ëŠ” ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤. ë¦¬í„´ ê°ì²´ê°€ Future\\<T> ì´ë¯€ë¡œ, ë™ê¸°ê°€ í•„ìš”í•˜ë‹¤ë©´ future.get();ìœ¼ë¡œ íŠ¸ëœì ì…˜ì´ ì™„ë£Œë  ë•Œ ê¹Œì§€ ëŒ€ê¸°í•˜ì—¬ ë¦¬í„´ ê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n2. `tran(TransactionJob<T> tjob, TranExceptionHandler handler)` \r\n\r\n\t1ë²ˆê³¼ ê°™ì§€ë§Œ, íŠ¸ëœì ì…˜ì‹œ Exceptionì´ ë°œìƒí•  ê²½ìš° ì§ì ‘ í•¸ë“¤ë§ í•©ë‹ˆë‹¤.\r\n3. `tranSync(TransactionJob<T> tjob)` \r\n\r\n\t1ë²ˆê³¼ ê°™ì§€ë§Œ, ê°œë°œìê°€ ìŠê¸° ì‰¬ìš´ future.get()ì„ ìë™ìœ¼ë¡œ í•´ì¤ë‹ˆë‹¤. íŠ¸ëœì ì…˜ì´ ì‹œì‘ë˜ê³  ì™„ë£Œë  ë•Œ ê¹Œì§€ ëŒ€ê¸°í•˜ê³  ìˆë‹¤ê°€ ë¦¬í„´ê°’ì„ ë°›ì•„ì˜¤ëŠ” ë©”ì„œë“œ ì…ë‹ˆë‹¤.\r\n\r\n\r\n#### Fqnì„ ì´ìš©í•˜ì—¬ Nodeì™€ Property ì¶”ê°€\r\nì´ë²ˆì—ëŠ” Nodeì™€ Propertyë¥¼ Writeí•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤. Crakenì—ì„œì˜ ReadSessionê³¼ WriteSessionì€ ë¶„ë¦¬ë˜ì–´ ìˆìœ¼ë©°, WriteSessionì€ ReadSessionì—ì„œ ì–»ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„ì—ì„œ \"shop\" Workspaceì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ë§Œë“¤ì—ˆë˜ ReadSessionì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ì„œ, \"shop\" ë…¸ë“œ ë°‘ì— ìˆëŠ” \"fruit\" ë…¸ë“œë¥¼ ì¶”ê°€í•˜ê³ , ê·¸ ë°‘ì— \"apple\" ë…¸ë“œë„ ì¶”ê°€í•©ë‹ˆë‹¤.\r\n\r\n```Javascript\r\n<%\r\nsession.tranSync(function(wsession) {\r\n   \t\t//Node ì¶”ê°€\r\n\t   \tvar writeNode = wsession.createBy(\"/fruit/apple\");\r\n   \t\t//Property ì„¤ì •\r\n  \t\twriteNode.property(\"price\", 2000);\r\n});\r\n\r\n\r\n//ì œëŒ€ë¡œ ì¶”ê°€ë˜ì—ˆëŠ”ì§€ í™•ì¸\r\nprint(session.exists(\"/fruit/apple\"));\r\nprint(session.pathBy(\"/fruit/apple\").property(\"price\").intValue(0));\r\n%>\r\n```\r\n\r\nì—¬ê¸°ì„œ apple ë…¸ë“œì˜ Fqn ê°’ì€ `/fruit/apple`ì´ ë©ë‹ˆë‹¤. Write ì‘ì—…ì€ ê¸°ë³¸ì ìœ¼ë¡œ ReadSessionê°ì²´ì˜ `tranSync(TransactionJob<T> tJob)` ë©”ì„œë“œë¥¼ ì´ìš©í•©ë‹ˆë‹¤. Parameterë¡œ í•„ìš”í•œ `TransactionJob<T>`ì˜ ê²½ìš° Interface ê°ì²´ì´ë©° ìƒì†ë°›ì•„ì„œ ìƒˆë¡œìš´ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê±°ë‚˜, `new`ë¥¼ ì´ìš©í•´ ì„ì˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ì¥í•œ ê°’ì„ ë§ˆì§€ë§‰ì— ReadSessionì„ í†µí•´ ì¶œë ¥í•˜ì—¬ í•œë²ˆ ë” í™•ì¸í•©ë‹ˆë‹¤. ì˜¤ë¥˜ ì—†ì´ ì •ìƒì ìœ¼ë¡œ ì¶œë ¥ì´ ëœë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì¶œë ¥ ë©ë‹ˆë‹¤.\r\n\t\r\n\ttrue\r\n\t2000\r\n\t\r\nìš°ë¦¬ê°€ ìœ„ì—ì„œ ë§Œë“¤ì–´ ì£¼ì—ˆë˜ apple ë…¸ë“œì— ëŒ€í•´ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê°’ìœ¼ë¡œ trueì™€, \"price\" Propertyì˜ Valueë¡œ 2000ì´ë¼ëŠ” intê°’ì„ ì„¤ì •í•´ ì¤€ ê°’ì´ ì¶œë ¥ ë©ë‹ˆë‹¤. `intValue(0)`ì€ í•´ë‹¹ ê°’ì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ 0ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.\r\n\r\nReadNodeì™€ WriteNodeëŠ” Method Chainingì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆê¸°ì—, ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\n\t\r\n\twsession.pathBy(\"/fruit/apple\").property(\"price\", 2000).property(\"discount\", 200)\r\n\t\t.addChild(\"seed\").property(\"color\", \"black\");"],"title":["- WriteSession"]},"references":{"__transaction":["/__transactions/5260f6bb792f28479c142183"]}}},{"id":"5260f6bb792f28479e142183","path":"/craken","touch":"MODIFY","val":{"properties":{},"references":{}}},{"id":"5260f6bb792f28479f142183","path":"/craken/1_introduce_craken/2_basic_model_of_craken/e_session","touch":"MODIFY","val":{"properties":{"content":["Crakenì˜ Sessionì€ Craken Repositoryì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ê°ì²´ ì…ë‹ˆë‹¤. ì½ê¸°ë§Œ ê°€ëŠ¥í•œ ReadSessionê³¼, ì“°ê¸°ê°€ ê°€ëŠ¥í•œ WriteSessionìœ¼ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ Sessionì€ í•œë²ˆì— ì˜¤ì§ í•˜ë‚˜ì˜ Workspaceì—ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©°, WorkspaceëŠ” ë™ì‹œì— ì—¬ëŸ¬ê°œì˜ Sessionì´ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤."],"title":["e. Session"]},"references":{}}},{"id":"5260f6bb792f2847a0142183","path":"/craken/1_introduce_craken","touch":"MODIFY","val":{"properties":{"content":[""],"title":["1. Introduce Craken"]},"references":{}}},{"id":"5260f6bb792f2847a1142183","path":"/craken/1_introduce_craken/2_basic_model_of_craken","touch":"MODIFY","val":{"properties":{"content":[""],"title":["2) Basic model of Craken"]},"references":{}}}]}